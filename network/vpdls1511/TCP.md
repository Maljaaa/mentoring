TCP란, 전송제어 프로토콜로서 서버와 클라이언트간에 데이터를 신뢰성 있게 전달하기 위해 만들어진 프로토콜이다.

이와 비교하여 UDP도 존재하지만, UDP의 경우 신뢰성이 없으며 TCP보다는 상대적으로 빠르다

>💡 여담으로, Google에서는 이 TCP의 안정성과 UDP의 속도를 접목시킨 프로토콜이다.  
[위키백과](https://ko.wikipedia.org/wiki/QUIC)

여기서 TCP는 신뢰있는 안정적인 전달을 목적으로 만들어졌다는 사실을 알게 되었다.
그런데 어떤 방법으로 연결을 하게 되는것일까?

# 3-Way HandShake

네트워크에 대해서 조금이라도 들어보았다면 익숙한 단어라고 생각한다.
이는, 서버와 클라이언트간에 3번의 커넥션을 통하여 연결을 수립 후 세션을 수립하는 과정이다.

이 절차는 SYN과 ACK 이 두개의 플래그를 이용하여 나타내는데, 순서는 아래와 같다.

1. Client가 Server에 접속을 하기 위해 SYN 패킷을 전송하게 되는데, 이 때 Client는 SYN/ACK 상태를 받기 위한 SYN_SENT 상태로 변화된다
2. Server는 SYN을 받고, 연결을 수락함과 동시에 SYN/ACK 패킷을 발송한다. 이 때 Server는 SYN_RECENT 상태로 변화한다.
3. Client는 SYN/ACK 패킷을 받고, 연결이 수립됨을 알 수 있다. 이 후 부터는 데이터를 자유롭게 주고받을 수 있다.

# 4-Way HandShake

이에 대해서는 자주 들어보지는 못햇을것 같다.

3-Way HandShake는 연결 수립을 위한 과정 이라면, 4-Way HandShake는 연결 해제를 위한 과정이다.
즉, 세션 연결 or 세션 해제 의 차이이다.

1. Client에서 연결 해제를 위해 Server에게 FIN 패킷을 전달한다.
2. Server는 FIN 플래그를 받고 연결을 종료할 준비를 하는데, 우선 확인을 했다는 ACK를 보낸다. 이 때, Server는 TIME_WAIT 상태가 된다.
3. Server가 연결을 종료할 준비가 되었다면 FIN 패킷을  Client에게 전달한다.
4. Client에서 FIN패킷을 받으면 Server에게 ACK를 보내 연결을 종료한다

# 흐름제어

흐름제어란 무엇일까?
위에 3-Way HandShake, 4-Way HandShake의 경우 Client 와 Server는계속해서 다양한 데이터를 주고받게 된다.

하지만, 이 때 데이터 처리의 속도 차이가 엄청나게 발생하면 어떻게 될까?

즉, Server의 경우 한번에 10개의 데이터를 처리할 수 있지만, Client에서 100개의 데이터를 보내게 되면 Server의 Queue의 크기보다 더 많은 양의 데이터가 들어와 Queue가 넘칠 수 있다. 이 때 손실의 문제가 발생할 수 있는데, 여기서 다양한 흐름제어 방법이 생기게 된다.

## 정지 - 대기 (Stop and Wait)

매번 전송한 패킷에 대해 응답을 받아야만 다음 패킷을 전송할 수 있도록 해주는 방법이다.

구조가 간단하지만 한 패킷 즉, 하나씩의 데이터만 받고 처리하여 넘겨주기 때문에 비 효율적 이다.

## 슬라이딩 윈도우  (Sliding Window)

이는 Server측에서 설정한 윈도우의 크기 만큼 Client가 Server의 응답 없이 세그먼트를 전송할 수 있게 하여 데이터의 흐름을 동적으로 조절하는 기법이다.

여기서 윈도우는 Buffer의 크기 인데, 이 Buffer의 크기 만큼 세그먼트를 받을 수 있도록 하는것이다.

이 흐름제어 방법은, 앞서 말한 정지-대기 기법의 단점을 보완한 방법이다.

윈도우의 크기 = (가장 최근 AQCK로 응답한 프레임 수) - (이전에 ACK 프레임을 보낸 프레임의 수)

의 식으로 윈도우의 크기를 정하게 되며, ACK프레임을 수신하지 않더라도, 여러개의 프레임을 연속적으로 전송할 수 있다.

# 혼잡제어

# 오류제어
